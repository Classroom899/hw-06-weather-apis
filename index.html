<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weather APIs</title>
    <link rel="stylesheet" href="style.css">

</head>
<!--Create weather dashboard that will run in the broser and feature dynamically updated HTML and CSS-->

<body>
    <!--Renamed main container to be more specific-->
    <div class="current-weather-container generic-container">
        <hi>Current Weather</hi>

        <!--Add a city's weather information button goes here-->
        <div class="generic-container-body">
            <div id="city-weather-form"></div>

            <form id="current-city-form">
                <label for="location-input">Add city here</label>
                <input type="text" class="centered-text" id="city-input">
                <br>

                <!-- Button triggers new city to be added -->
                <div id="add-city-weather"></div>
            </form>
            <!-- .append -->


            <!--Select Box-->
            <form id="weather-location-form">

                <!--Need a label for the text box-->
                <label for="city-input">Location</label>

                <!--For our text input box-->
                <input type="text" class="centered-text" id="weather-input">

                <!--Add a submit button-->
                <button id="submitButton" class="inputValue" placeholder="Enter a city" type="submit"
                    value="submitInput">Submit</button>
            </form>


            <!--Add UV Index -->

        </div>
        <div>

            <div class="display">
                <h1 class="name">
                    <ul currentWeather></ul>
                </h1>
                <p class="description">
                <ul></ul>
                </p>
                <p class="temp">
                <ul></ul>
                </p>
                <p class="humidity"></p>
                <ul></ul>
                <p class="uv-data">
                <ul></ul>
                </p>
            </div>

            <!--Previous searches will go here-->

        </div>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#submitButton").click(function (event) {
            event.preventDefault()
            const CITY = document.getElementById("weather-input").value
            console.log(CITY);

            var APIKey = "d74fd1c79edbaf5fb5a9f820bf9acc60";
            var query = `https://api.openweathermap.org/data/2.5/weather?q=${CITY}&appid=${APIKey}&units=imperial`

            $.ajax({
                url: query,
                method: "GET",

            }).then(function (currentWeather) {
                console.log(currentWeather);
                $(".name").text(currentWeather.name);
                $(".description").text("Wind: " + currentWeather.wind.speed);
                $(".temp").text("Current temperature: " + currentWeather.main.temp);
                $(".humidity").text("Current humidity: " + currentWeather.main.humidity);
                // $(".uv-index").text("UV Index: " + currentWeather.)
                $("#add-city-weather").append(`<button>${currentWeather.name}</button>`)
            })
            //create a class on the button and then click event for that and take what the button and re run the api search
        }

        )


    })


</script>
<script type="text/javascript">
    $(document).ready(function () {
        $("UVsubmitButton").click(function (event) {
            event.preventDefault()
            const UVINDEXC = document.getElementById("uv-index").value
            console.log(UVINDEXC);

            var APIKey = "d74fd1c79edbaf5fb5a9f820bf9acc60";
            var uv = `http://api.openweathermap.org/data/2.5/uvi?appid=${APIKEY}&lat=${lat}&lon=${lon}&cnt=${days}`

            $.ajax({
                url: uv,
                method: "GET",
            }).then(function (currentUV) {
                console.log(currentUV);
                $(".uv-data").text(currentUV.name);
            }







            )
        }


</script>
<script src="./script.js"></script>
</body>

</html>